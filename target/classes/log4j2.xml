<?xml version="1.0" encoding="UTF-8"?>
<!-- Конфігураційний файл для Log4j -->

<Configuration status="WARN">
    <!-- Налаштування аппендерів (місць, куди записуються логи) -->
    <Appenders>
        <!-- Аппендер для виводу логів у консоль -->
        <Console name="Console" target="SYSTEM_OUT">
            <!-- Шаблон для форматування повідомлень -->
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] [%p] - %m%n" />
        </Console>

        <!-- Аппендер для запису логів у файл -->
        <File name="FileLogger" fileName="logs/app.log" append="true">
            <!-- Шаблон для форматування повідомлень -->
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] [%p] - %m%n" />
        </File>

        <!-- Аппендер для надсилання логів електронною поштою -->
        <Smtp name="Email" subject="Критична помилка у програмі"
              to="maksymmomotok1@gmail.com"
              from="maksymmomotok1@gmail.com"
              smtpHost="smtp.gmail.com" smtpPort="587"
              smtpProtocol="smtp"
              smtpUsername="maksymmomotok1@gmail.com" smtpPassword="tnxd ocuc wcfk iqoi">
            <!-- Шаблон для форматування повідомлень -->
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] [%p] - %m%n" />
        </Smtp>
    </Appenders>

    <!-- Налаштування логерів (рівнів логування) -->
    <Loggers>
        <!-- Головний логер з рівнем "info" -->
        <Root level="info">
            <!-- Посилання на аппендери -->
            <AppenderRef ref="Console" />
            <AppenderRef ref="FileLogger" />
            <!-- Логи рівня "error" та вище також будуть надсилатися електронною поштою -->
            <AppenderRef ref="Email" level="error" />
        </Root>
    </Loggers>
</Configuration>
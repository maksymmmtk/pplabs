<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pp4-8</a> &gt; <a href="index.source.html" class="el_package">com.pplab4_8.mobileCommunication</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package com.pplab4_8.mobileCommunication;

import com.pplab4_8.mobileCommunication.commands.Command;
import com.pplab4_8.mobileCommunication.menu.LoginMenu;
import com.pplab4_8.mobileCommunication.service.MobileNetworkService;
import com.pplab4_8.mobileCommunication.tariffs.*;
import com.pplab4_8.mobileCommunication.users.*;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.io.InputStream;
import java.util.*;

/**
 * Головний клас програми мобільної комунікації.
 * Цей клас відповідає за ініціалізацію програми, створення мобільних мереж, тарифів,
 * абонентів та обробку виконання меню входу.
 */
<span class="nc" id="L19">public class Main {</span>

<span class="fc" id="L21">    private static final Logger logger = LogManager.getLogger(Main.class);</span>

    /**
     * Головна точка входу в програму.
     *
     * @param args Аргументи командного рядка
     */
    public static void main(String[] args) {
        // Налаштування властивостей для роботи з електронною поштою
<span class="nc" id="L30">        System.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);</span>
<span class="nc" id="L31">        System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</span>

<span class="nc" id="L33">        logger.info(&quot;Програма стартує...&quot;);</span>

        // Виконання основної логіки програми
<span class="nc" id="L36">        executeApp(System.in);</span>
<span class="nc" id="L37">        logger.info(&quot;Програма завершила виконання.&quot;);</span>
<span class="nc" id="L38">    }</span>

    /**
     * Виконує основну логіку програми.
     * Ініціалізує мобільні мережі, тарифи, абонентів та запускає меню входу.
     *
     * @param inputStream Вхідний потік для взаємодії з користувачем
     */
    public static void executeApp(InputStream inputStream) {
<span class="fc" id="L47">        logger.info(&quot;Ініціалізація мобільних мереж, тарифів та абонентів...&quot;);</span>

        // Ініціалізація мобільних мереж з тарифами
<span class="fc" id="L50">        MobileNetwork kyivstar = new MobileNetwork(&quot;Kyivstar&quot;,</span>
<span class="fc" id="L51">                new ArrayList&lt;&gt;(List.of(</span>
                        new TariffPrepaid(&quot;Безлімітний&quot;, 120, 500, 150.0f),
                        new TariffContract(&quot;Преміум Контракт&quot;, 150, 1000, 300.0f, &quot;Безкоштовний роумінг&quot;)
                ))
        );
<span class="fc" id="L56">        logger.info(&quot;Мобільна мережа Kyivstar успішно ініціалізована.&quot;);</span>

<span class="fc" id="L58">        MobileNetwork vodafone = new MobileNetwork(&quot;Vodafone&quot;,</span>
<span class="fc" id="L59">                new ArrayList&lt;&gt;(List.of(</span>
                        new TariffPrepaid(&quot;Максимальний&quot;, 110, 600, 200.0f),
                        new TariffContract(&quot;Контракт Бізнес&quot;, 130, 1200, 350.0f, &quot;Пріоритетна підтримка&quot;)
                ))
        );
<span class="fc" id="L64">        logger.info(&quot;Мобільна мережа Vodafone успішно ініціалізована.&quot;);</span>

<span class="fc" id="L66">        MobileNetwork lifecell = new MobileNetwork(&quot;Lifecell&quot;,</span>
<span class="fc" id="L67">                new ArrayList&lt;&gt;(List.of(</span>
                        new TariffPrepaid(&quot;Зручний&quot;, 125, 400, 130.0f),
                        new TariffContract(&quot;Сімейний Контракт&quot;, 160, 800, 250.0f, &quot;Додатковий номер безкоштовно&quot;)
                ))
        );
<span class="fc" id="L72">        logger.info(&quot;Мобільна мережа Lifecell успішно ініціалізована.&quot;);</span>

        // Створення сервісів мобільних мереж
<span class="fc" id="L75">        MobileNetworkService kyivstarService = new MobileNetworkService(kyivstar);</span>
<span class="fc" id="L76">        MobileNetworkService vodafoneService = new MobileNetworkService(vodafone);</span>
<span class="fc" id="L77">        MobileNetworkService lifecellService = new MobileNetworkService(lifecell);</span>

<span class="fc" id="L79">        logger.info(&quot;Сервіси мобільних мереж успішно створено.&quot;);</span>

        // Ініціалізація абонентів
<span class="fc" id="L82">        MobileSubscriber subscriber1 = new MobileSubscriber(&quot;Maksym&quot;, 30, &quot;0951234567&quot;, kyivstarService, kyivstar.getTariffByName(&quot;Безлімітний&quot;));</span>
<span class="fc" id="L83">        MobileSubscriber subscriber2 = new MobileSubscriber(&quot;Olga&quot;, 25, &quot;0937654321&quot;, vodafoneService, vodafone.getTariffByName(&quot;Контракт Бізнес&quot;));</span>

<span class="fc" id="L85">        logger.info(&quot;Абоненти успішно ініціалізовані.&quot;);</span>

        // Створення карт для сервісів та абонентів
<span class="fc" id="L88">        Map&lt;Map&lt;String, String&gt;, MobileNetworkService&gt; services = Map.of(</span>
<span class="fc" id="L89">                Map.of(&quot;kyivstar&quot;, &quot;1234&quot;), kyivstarService,</span>
<span class="fc" id="L90">                Map.of(&quot;vodafone&quot;, &quot;5678&quot;), vodafoneService,</span>
<span class="fc" id="L91">                Map.of(&quot;lifecell&quot;, &quot;91011&quot;), lifecellService</span>
        );

<span class="fc" id="L94">        Map&lt;Map&lt;String, String&gt;, MobileSubscriber&gt; subscribers = Map.of(</span>
<span class="fc" id="L95">                Map.of(&quot;maksym&quot;, &quot;password1&quot;), subscriber1,</span>
<span class="fc" id="L96">                Map.of(&quot;olga&quot;, &quot;password2&quot;), subscriber2</span>
        );

<span class="fc" id="L99">        logger.info(&quot;Меню входу створюється...&quot;);</span>

        // Запуск меню входу
<span class="fc" id="L102">        Command loginMenu = new LoginMenu(services, subscribers, inputStream);</span>
<span class="fc" id="L103">        loginMenu.execute();</span>
<span class="fc" id="L104">        logger.info(&quot;Меню входу успішно виконано.&quot;);</span>
<span class="fc" id="L105">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>